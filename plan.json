{"format_version":"0.1","terraform_version":"0.12.20","variables":{"amazon_side_as":{"value":"64512"},"auto_accept_shared_attachments":{"value":"enable"},"az1":{"value":"us-east-1a"},"az2":{"value":"us-east-1b"},"azs":{"value":["us-east-1a","us-east-1b"]},"blackhole":{"value":false},"cidr_block_a":{"value":"15.0.0.0/24"},"cidr_block_a2":{"value":"10.0.0.0/24"},"cidr_block_b":{"value":"15.0.1.0/24"},"cidr_block_b2":{"value":"10.0.1.0/24"},"cidr_block_c":{"value":"15.0.2.0/24"},"cidr_block_d":{"value":"15.0.3.0/24"},"default_route_table_association":{"value":"disable"},"default_route_table_propagation":{"value":"disable"},"description":{"value":"desc"},"destination_cidr_block":{"value":" "},"dns_support":{"value":"enable"},"egress_cidr":{"value":["0.0.0.0/0"]},"exit_rte_cidr":{"value":"0.0.0.0/0"},"from_icmp_port":{"value":"8"},"from_port":{"value":"22"},"icmp_protocol":{"value":"icmp"},"ipv6_support":{"value":"disable"},"keyp":{"value":"Ayos-windows-key"},"my_ip":{"value":"142.116.203.156/32"},"protocol":{"value":"tcp"},"prv2_subnet_cidrs":{"value":["10.0.0.0/24","10.0.1.0/24"]},"prv_subnet_cidrs":{"value":["15.0.2.0/24","15.0.3.0/24"]},"prv_subnets":{"value":["prv-1a","prv-1b"]},"pub_subnet_cidrs":{"value":["15.0.0.0/24","15.0.1.0/24"]},"pub_subnets":{"value":["pub-1a","pub-1b"]},"tgw_id":{"value":"tgw_id"},"tgw_name":{"value":"transit-gw"},"to_icmp_port":{"value":"0"},"to_port":{"value":"22"},"transit_gateway_attachment_id":{"value":"tgw_attachment_id"},"transit_gateway_default_route_table_association":{"value":false},"transit_gateway_default_route_table_propagation":{"value":false},"transit_gateway_route_table_id":{"value":"tgw_routetable_id"},"vpc2_cidr_block":{"value":"10.0.0.0/16"},"vpc_cidr_block":{"value":"15.0.0.0/16"},"vpn_ecmp_support":{"value":"enable"}},"planned_values":{"outputs":{"instance":{"sensitive":false},"instance2_prv_ip":{"sensitive":false},"instance_ip":{"sensitive":false},"private_subnets":{"sensitive":false},"private_subnets2":{"sensitive":false},"public_subnets":{"sensitive":false},"tgw_arn":{"sensitive":false},"tgw_attachment":{"sensitive":false},"tgw_attachment2":{"sensitive":false},"tgw_id":{"sensitive":false},"tgw_routetable_association":{"sensitive":false},"tgw_routetable_association2":{"sensitive":false},"tgw_routetable_id":{"sensitive":false},"vpc_id":{"sensitive":false},"vpc_id2":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_ec2_transit_gateway.tgw","mode":"managed","type":"aws_ec2_transit_gateway","name":"tgw","provider_name":"aws","schema_version":0,"values":{"amazon_side_asn":64512,"auto_accept_shared_attachments":"enable","default_route_table_association":"disable","default_route_table_propagation":"disable","description":"tgw setup with terraform","dns_support":"enable","tags":{"Name":"transit-gw"},"vpn_ecmp_support":"enable"}},{"address":"aws_ec2_transit_gateway_route.tgw-rte","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte","provider_name":"aws","schema_version":0,"values":{"blackhole":false,"destination_cidr_block":"0.0.0.0/0"}},{"address":"aws_ec2_transit_gateway_route.tgw-rte2","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte2","provider_name":"aws","schema_version":0,"values":{"blackhole":false,"destination_cidr_block":"10.0.0.0/24"}},{"address":"aws_ec2_transit_gateway_route.tgw-rte3","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte3","provider_name":"aws","schema_version":0,"values":{"blackhole":false,"destination_cidr_block":"15.0.0.0/24"}},{"address":"aws_ec2_transit_gateway_route_table.tgw-rtable","mode":"managed","type":"aws_ec2_transit_gateway_route_table","name":"tgw-rtable","provider_name":"aws","schema_version":0,"values":{"tags":null}},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta","provider_name":"aws","schema_version":0},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta2","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta2","provider_name":"aws","schema_version":0},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att","provider_name":"aws","schema_version":0,"values":{"dns_support":"enable","ipv6_support":"disable","tags":null,"transit_gateway_default_route_table_association":false,"transit_gateway_default_route_table_propagation":false}},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att2","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att2","provider_name":"aws","schema_version":0,"values":{"dns_support":"enable","ipv6_support":"disable","tags":null,"transit_gateway_default_route_table_association":false,"transit_gateway_default_route_table_propagation":false}},{"address":"aws_eip.pub1","mode":"managed","type":"aws_eip","name":"pub1","provider_name":"aws","schema_version":0,"values":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true}},{"address":"aws_instance.access_server","mode":"managed","type":"aws_instance","name":"access_server","provider_name":"aws","schema_version":1,"values":{"ami":"ami-09d8b5222f2b93bf0","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_initiated_shutdown_behavior":null,"instance_type":"t2.micro","key_name":"Ayos-windows-key","monitoring":null,"source_dest_check":false,"tags":{"Name":"bastion"},"timeouts":null,"user_data":null,"user_data_base64":null}},{"address":"aws_instance.priv-access_server","mode":"managed","type":"aws_instance","name":"priv-access_server","provider_name":"aws","schema_version":1,"values":{"ami":"ami-09d8b5222f2b93bf0","associate_public_ip_address":false,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_initiated_shutdown_behavior":null,"instance_type":"t2.micro","key_name":"Ayos-windows-key","monitoring":null,"source_dest_check":false,"tags":{"Name":"bastion"},"timeouts":null,"user_data":null,"user_data_base64":null}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"aws","schema_version":0,"values":{"tags":{"Name":"tgw-igw"}}},{"address":"aws_nat_gateway.gw1","mode":"managed","type":"aws_nat_gateway","name":"gw1","provider_name":"aws","schema_version":0,"values":{"tags":{"Name":"tgw NAT"}}},{"address":"aws_route_table.vpc2_private_rt","mode":"managed","type":"aws_route_table","name":"vpc2_private_rt","provider_name":"aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc2_private_rt"}}},{"address":"aws_route_table.vpc_private_rt","mode":"managed","type":"aws_route_table","name":"vpc_private_rt","provider_name":"aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc_private_rt"}}},{"address":"aws_route_table.vpc_public_rt","mode":"managed","type":"aws_route_table","name":"vpc_public_rt","provider_name":"aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""},{"cidr_block":"10.0.0.0/16","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc_public_rt"}}},{"address":"aws_route_table_association.rta","mode":"managed","type":"aws_route_table_association","name":"rta","provider_name":"aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.rta2","mode":"managed","type":"aws_route_table_association","name":"rta2","provider_name":"aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.rta_prv","mode":"managed","type":"aws_route_table_association","name":"rta_prv","provider_name":"aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_security_group.tgw-prv-sg","mode":"managed","type":"aws_security_group","name":"tgw-prv-sg","provider_name":"aws","schema_version":1,"values":{"description":"Allow access to bastion in public","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["15.0.0.0/16"],"description":"SSH Access","from_port":8,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["15.0.0.0/24","142.116.203.156/32"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["15.0.0.0/24"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"ayos-tgw-prv-sg","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"allow_access_to_prv"},"timeouts":null}},{"address":"aws_security_group.tgw-pub-sg","mode":"managed","type":"aws_security_group","name":"tgw-pub-sg","provider_name":"aws","schema_version":1,"values":{"description":"Allow access to bastion in public","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"icmp Access","from_port":8,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["15.0.0.0/24","142.116.203.156/32"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["15.0.0.0/24"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"ayos-tgw-pub-sg","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"allow_bastion"},"timeouts":null}},{"address":"aws_subnet.private_subnets[0]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":0,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"15.0.2.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1a"},"timeouts":null}},{"address":"aws_subnet.private_subnets[1]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":1,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"15.0.3.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1b"},"timeouts":null}},{"address":"aws_subnet.public_subnets[0]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":0,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"15.0.0.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"pub-1a"},"timeouts":null}},{"address":"aws_subnet.public_subnets[1]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":1,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"15.0.1.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"pub-1b"},"timeouts":null}},{"address":"aws_subnet.vpc2-private_subnets[0]","mode":"managed","type":"aws_subnet","name":"vpc2-private_subnets","index":0,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1a"},"timeouts":null}},{"address":"aws_subnet.vpc2-private_subnets[1]","mode":"managed","type":"aws_subnet","name":"vpc2-private_subnets","index":1,"provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1b"},"timeouts":null}},{"address":"aws_vpc.tgw-vpc","mode":"managed","type":"aws_vpc","name":"tgw-vpc","provider_name":"aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"15.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"tgw-vpc"}}},{"address":"aws_vpc.tgw-vpc2","mode":"managed","type":"aws_vpc","name":"tgw-vpc2","provider_name":"aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"tgw2-vpc"}}}]}},"resource_changes":[{"address":"aws_ec2_transit_gateway.tgw","mode":"managed","type":"aws_ec2_transit_gateway","name":"tgw","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"amazon_side_asn":64512,"auto_accept_shared_attachments":"enable","default_route_table_association":"disable","default_route_table_propagation":"disable","description":"tgw setup with terraform","dns_support":"enable","tags":{"Name":"transit-gw"},"vpn_ecmp_support":"enable"},"after_unknown":{"arn":true,"association_default_route_table_id":true,"id":true,"owner_id":true,"propagation_default_route_table_id":true,"tags":{}}}},{"address":"aws_ec2_transit_gateway_route.tgw-rte","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"blackhole":false,"destination_cidr_block":"0.0.0.0/0"},"after_unknown":{"id":true,"transit_gateway_attachment_id":true,"transit_gateway_route_table_id":true}}},{"address":"aws_ec2_transit_gateway_route.tgw-rte2","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte2","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"blackhole":false,"destination_cidr_block":"10.0.0.0/24"},"after_unknown":{"id":true,"transit_gateway_attachment_id":true,"transit_gateway_route_table_id":true}}},{"address":"aws_ec2_transit_gateway_route.tgw-rte3","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte3","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"blackhole":false,"destination_cidr_block":"15.0.0.0/24"},"after_unknown":{"id":true,"transit_gateway_attachment_id":true,"transit_gateway_route_table_id":true}}},{"address":"aws_ec2_transit_gateway_route_table.tgw-rtable","mode":"managed","type":"aws_ec2_transit_gateway_route_table","name":"tgw-rtable","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"tags":null},"after_unknown":{"default_association_route_table":true,"default_propagation_route_table":true,"id":true,"transit_gateway_id":true}}},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"resource_id":true,"resource_type":true,"transit_gateway_attachment_id":true,"transit_gateway_route_table_id":true}}},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta2","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta2","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"resource_id":true,"resource_type":true,"transit_gateway_attachment_id":true,"transit_gateway_route_table_id":true}}},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"dns_support":"enable","ipv6_support":"disable","tags":null,"transit_gateway_default_route_table_association":false,"transit_gateway_default_route_table_propagation":false},"after_unknown":{"id":true,"subnet_ids":true,"transit_gateway_id":true,"vpc_id":true,"vpc_owner_id":true}}},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att2","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att2","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"dns_support":"enable","ipv6_support":"disable","tags":null,"transit_gateway_default_route_table_association":false,"transit_gateway_default_route_table_propagation":false},"after_unknown":{"id":true,"subnet_ids":true,"transit_gateway_id":true,"vpc_id":true,"vpc_owner_id":true}}},{"address":"aws_eip.pub1","mode":"managed","type":"aws_eip","name":"pub1","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true}}},{"address":"aws_instance.access_server","mode":"managed","type":"aws_instance","name":"access_server","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-09d8b5222f2b93bf0","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_initiated_shutdown_behavior":null,"instance_type":"t2.micro","key_name":"Ayos-windows-key","monitoring":null,"source_dest_check":false,"tags":{"Name":"bastion"},"timeouts":null,"user_data":null,"user_data_base64":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tenancy":true,"volume_tags":true,"vpc_security_group_ids":true}}},{"address":"aws_instance.priv-access_server","mode":"managed","type":"aws_instance","name":"priv-access_server","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-09d8b5222f2b93bf0","associate_public_ip_address":false,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_initiated_shutdown_behavior":null,"instance_type":"t2.micro","key_name":"Ayos-windows-key","monitoring":null,"source_dest_check":false,"tags":{"Name":"bastion"},"timeouts":null,"user_data":null,"user_data_base64":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tenancy":true,"volume_tags":true,"vpc_security_group_ids":true}}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"tgw-igw"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_nat_gateway.gw1","mode":"managed","type":"aws_nat_gateway","name":"gw1","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"tgw NAT"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{}}}},{"address":"aws_route_table.vpc2_private_rt","mode":"managed","type":"aws_route_table","name":"vpc2_private_rt","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc2_private_rt"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table.vpc_private_rt","mode":"managed","type":"aws_route_table","name":"vpc_private_rt","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc_private_rt"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table.vpc_public_rt","mode":"managed","type":"aws_route_table","name":"vpc_public_rt","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""},{"cidr_block":"10.0.0.0/16","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vpc_public_rt"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true},{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table_association.rta","mode":"managed","type":"aws_route_table_association","name":"rta","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.rta2","mode":"managed","type":"aws_route_table_association","name":"rta2","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.rta_prv","mode":"managed","type":"aws_route_table_association","name":"rta_prv","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_security_group.tgw-prv-sg","mode":"managed","type":"aws_security_group","name":"tgw-prv-sg","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow access to bastion in public","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["15.0.0.0/16"],"description":"SSH Access","from_port":8,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["15.0.0.0/24","142.116.203.156/32"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["15.0.0.0/24"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"ayos-tgw-prv-sg","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"allow_access_to_prv"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_security_group.tgw-pub-sg","mode":"managed","type":"aws_security_group","name":"tgw-pub-sg","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow access to bastion in public","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"icmp Access","from_port":8,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["15.0.0.0/24","142.116.203.156/32"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["15.0.0.0/24"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"ayos-tgw-pub-sg","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"allow_bastion"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false,false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.private_subnets[0]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":0,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"15.0.2.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.private_subnets[1]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":1,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"15.0.3.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.public_subnets[0]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":0,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"15.0.0.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"pub-1a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.public_subnets[1]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":1,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"15.0.1.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"pub-1b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.vpc2-private_subnets[0]","mode":"managed","type":"aws_subnet","name":"vpc2-private_subnets","index":0,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.vpc2-private_subnets[1]","mode":"managed","type":"aws_subnet","name":"vpc2-private_subnets","index":1,"provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/24","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"prv-1b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_vpc.tgw-vpc","mode":"managed","type":"aws_vpc","name":"tgw-vpc","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"15.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"tgw-vpc"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"enable_dns_hostnames":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}},{"address":"aws_vpc.tgw-vpc2","mode":"managed","type":"aws_vpc","name":"tgw-vpc2","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"tgw2-vpc"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"enable_dns_hostnames":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}}],"output_changes":{"instance":{"actions":["create"],"before":null,"after_unknown":true},"instance2_prv_ip":{"actions":["create"],"before":null,"after_unknown":true},"instance_ip":{"actions":["create"],"before":null,"after_unknown":true},"private_subnets":{"actions":["create"],"before":null,"after_unknown":true},"private_subnets2":{"actions":["create"],"before":null,"after_unknown":true},"public_subnets":{"actions":["create"],"before":null,"after_unknown":true},"tgw_arn":{"actions":["create"],"before":null,"after_unknown":true},"tgw_attachment":{"actions":["create"],"before":null,"after_unknown":true},"tgw_attachment2":{"actions":["create"],"before":null,"after_unknown":true},"tgw_id":{"actions":["create"],"before":null,"after_unknown":true},"tgw_routetable_association":{"actions":["create"],"before":null,"after_unknown":true},"tgw_routetable_association2":{"actions":["create"],"before":null,"after_unknown":true},"tgw_routetable_id":{"actions":["create"],"before":null,"after_unknown":true},"vpc_id":{"actions":["create"],"before":null,"after_unknown":true},"vpc_id2":{"actions":["create"],"before":null,"after_unknown":true}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"outputs":{"instance":{"expression":{"references":["aws_instance.access_server"]},"description":"ec2 instance id"},"instance2_prv_ip":{"expression":{"references":["aws_instance.priv-access_server"]},"description":"ec2 instance ip"},"instance_ip":{"expression":{"references":["aws_instance.access_server"]},"description":"ec2 instance ip"},"private_subnets":{"expression":{"references":["aws_subnet.private_subnets"]}},"private_subnets2":{"expression":{"references":["aws_subnet.vpc2-private_subnets"]}},"public_subnets":{"expression":{"references":["aws_subnet.public_subnets"]}},"tgw_arn":{"expression":{"references":["aws_ec2_transit_gateway.tgw"]},"description":"The arn of the TGW"},"tgw_attachment":{"expression":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att"]},"description":"VPC attachments to TGW"},"tgw_attachment2":{"expression":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att2"]},"description":"VPC attachments to TGW"},"tgw_id":{"expression":{"references":["aws_ec2_transit_gateway.tgw"]},"description":"The ID of the VPC"},"tgw_routetable_association":{"expression":{"references":["aws_ec2_transit_gateway_route_table_association.tgw-rta"]},"description":"transit gateway routetable association"},"tgw_routetable_association2":{"expression":{"references":["aws_ec2_transit_gateway_route_table_association.tgw-rta2"]},"description":"transit gateway routetable association"},"tgw_routetable_id":{"expression":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]},"description":"Transit Gateway Route Table ID"},"vpc_id":{"expression":{"references":["aws_vpc.tgw-vpc"]},"description":"The ID of the VPC"},"vpc_id2":{"expression":{"references":["aws_vpc.tgw-vpc2"]},"description":"The ID of the VPC"}},"resources":[{"address":"aws_ec2_transit_gateway.tgw","mode":"managed","type":"aws_ec2_transit_gateway","name":"tgw","provider_config_key":"aws","expressions":{"auto_accept_shared_attachments":{"references":["var.auto_accept_shared_attachments"]},"default_route_table_association":{"constant_value":"disable"},"default_route_table_propagation":{"constant_value":"disable"},"description":{"constant_value":"tgw setup with terraform"},"tags":{"constant_value":{"Name":"transit-gw"}}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route.tgw-rte","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte","provider_config_key":"aws","expressions":{"destination_cidr_block":{"references":["var.exit_rte_cidr"]},"transit_gateway_attachment_id":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att"]},"transit_gateway_route_table_id":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route.tgw-rte2","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte2","provider_config_key":"aws","expressions":{"destination_cidr_block":{"references":["var.cidr_block_a2"]},"transit_gateway_attachment_id":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att2"]},"transit_gateway_route_table_id":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route.tgw-rte3","mode":"managed","type":"aws_ec2_transit_gateway_route","name":"tgw-rte3","provider_config_key":"aws","expressions":{"destination_cidr_block":{"references":["var.cidr_block_a"]},"transit_gateway_attachment_id":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att"]},"transit_gateway_route_table_id":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route_table.tgw-rtable","mode":"managed","type":"aws_ec2_transit_gateway_route_table","name":"tgw-rtable","provider_config_key":"aws","expressions":{"transit_gateway_id":{"references":["aws_ec2_transit_gateway.tgw"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta","provider_config_key":"aws","expressions":{"transit_gateway_attachment_id":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att"]},"transit_gateway_route_table_id":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_route_table_association.tgw-rta2","mode":"managed","type":"aws_ec2_transit_gateway_route_table_association","name":"tgw-rta2","provider_config_key":"aws","expressions":{"transit_gateway_attachment_id":{"references":["aws_ec2_transit_gateway_vpc_attachment.tgw-att2"]},"transit_gateway_route_table_id":{"references":["aws_ec2_transit_gateway_route_table.tgw-rtable"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.private_subnets"]},"transit_gateway_default_route_table_association":{"constant_value":false},"transit_gateway_default_route_table_propagation":{"constant_value":false},"transit_gateway_id":{"references":["aws_ec2_transit_gateway.tgw"]},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":0},{"address":"aws_ec2_transit_gateway_vpc_attachment.tgw-att2","mode":"managed","type":"aws_ec2_transit_gateway_vpc_attachment","name":"tgw-att2","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.vpc2-private_subnets"]},"transit_gateway_default_route_table_association":{"constant_value":false},"transit_gateway_default_route_table_propagation":{"constant_value":false},"transit_gateway_id":{"references":["aws_ec2_transit_gateway.tgw"]},"vpc_id":{"references":["aws_vpc.tgw-vpc2"]}},"schema_version":0},{"address":"aws_eip.pub1","mode":"managed","type":"aws_eip","name":"pub1","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_instance.access_server","mode":"managed","type":"aws_instance","name":"access_server","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-09d8b5222f2b93bf0"},"associate_public_ip_address":{"constant_value":true},"instance_type":{"constant_value":"t2.micro"},"key_name":{"references":["var.keyp"]},"source_dest_check":{"constant_value":false},"subnet_id":{"references":["aws_subnet.public_subnets[0]"]},"tags":{"constant_value":{"Name":"bastion"}},"vpc_security_group_ids":{"references":["aws_security_group.tgw-pub-sg"]}},"schema_version":1},{"address":"aws_instance.priv-access_server","mode":"managed","type":"aws_instance","name":"priv-access_server","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-09d8b5222f2b93bf0"},"associate_public_ip_address":{"constant_value":false},"instance_type":{"constant_value":"t2.micro"},"key_name":{"references":["var.keyp"]},"source_dest_check":{"constant_value":false},"subnet_id":{"references":["aws_subnet.vpc2-private_subnets[0]"]},"tags":{"constant_value":{"Name":"bastion"}},"vpc_security_group_ids":{"references":["aws_security_group.tgw-prv-sg"]}},"schema_version":1},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"tgw-igw"}},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":0},{"address":"aws_nat_gateway.gw1","mode":"managed","type":"aws_nat_gateway","name":"gw1","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.pub1"]},"subnet_id":{"references":["aws_subnet.public_subnets[0]"]},"tags":{"constant_value":{"Name":"tgw NAT"}}},"schema_version":0},{"address":"aws_route_table.vpc2_private_rt","mode":"managed","type":"aws_route_table","name":"vpc2_private_rt","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"vpc2_private_rt"}},"vpc_id":{"references":["aws_vpc.tgw-vpc2"]}},"schema_version":0,"depends_on":["aws_ec2_transit_gateway.tgw"]},{"address":"aws_route_table.vpc_private_rt","mode":"managed","type":"aws_route_table","name":"vpc_private_rt","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"vpc_private_rt"}},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":0},{"address":"aws_route_table.vpc_public_rt","mode":"managed","type":"aws_route_table","name":"vpc_public_rt","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"vpc_public_rt"}},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":0,"depends_on":["aws_ec2_transit_gateway.tgw"]},{"address":"aws_route_table_association.rta","mode":"managed","type":"aws_route_table_association","name":"rta","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.vpc_public_rt"]},"subnet_id":{"references":["aws_subnet.public_subnets[0]"]}},"schema_version":0},{"address":"aws_route_table_association.rta2","mode":"managed","type":"aws_route_table_association","name":"rta2","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.vpc2_private_rt"]},"subnet_id":{"references":["aws_subnet.vpc2-private_subnets[0]"]}},"schema_version":0},{"address":"aws_route_table_association.rta_prv","mode":"managed","type":"aws_route_table_association","name":"rta_prv","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.vpc_private_rt"]},"subnet_id":{"references":["aws_subnet.private_subnets[0]"]}},"schema_version":0},{"address":"aws_security_group.tgw-prv-sg","mode":"managed","type":"aws_security_group","name":"tgw-prv-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow access to bastion in public"},"name":{"constant_value":"ayos-tgw-prv-sg"},"tags":{"constant_value":{"Name":"allow_access_to_prv"}},"vpc_id":{"references":["aws_vpc.tgw-vpc2"]}},"schema_version":1},{"address":"aws_security_group.tgw-pub-sg","mode":"managed","type":"aws_security_group","name":"tgw-pub-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow access to bastion in public"},"name":{"constant_value":"ayos-tgw-pub-sg"},"tags":{"constant_value":{"Name":"allow_bastion"}},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":1},{"address":"aws_subnet.private_subnets","mode":"managed","type":"aws_subnet","name":"private_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs","count.index"]},"cidr_block":{"references":["var.prv_subnet_cidrs","count.index"]},"tags":{"references":["var.prv_subnets","count.index"]},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":1,"count_expression":{"references":["var.prv_subnets"]}},{"address":"aws_subnet.public_subnets","mode":"managed","type":"aws_subnet","name":"public_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs","count.index"]},"cidr_block":{"references":["var.pub_subnet_cidrs","count.index"]},"tags":{"references":["var.pub_subnets","count.index"]},"vpc_id":{"references":["aws_vpc.tgw-vpc"]}},"schema_version":1,"count_expression":{"references":["var.pub_subnets"]}},{"address":"aws_subnet.vpc2-private_subnets","mode":"managed","type":"aws_subnet","name":"vpc2-private_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.azs","count.index"]},"cidr_block":{"references":["var.prv2_subnet_cidrs","count.index"]},"tags":{"references":["var.prv_subnets","count.index"]},"vpc_id":{"references":["aws_vpc.tgw-vpc2"]}},"schema_version":1,"count_expression":{"references":["var.prv_subnets"]}},{"address":"aws_vpc.tgw-vpc","mode":"managed","type":"aws_vpc","name":"tgw-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr_block"]},"instance_tenancy":{"constant_value":"default"},"tags":{"constant_value":{"Name":"tgw-vpc"}}},"schema_version":1},{"address":"aws_vpc.tgw-vpc2","mode":"managed","type":"aws_vpc","name":"tgw-vpc2","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc2_cidr_block"]},"instance_tenancy":{"constant_value":"default"},"tags":{"constant_value":{"Name":"tgw2-vpc"}}},"schema_version":1}],"variables":{"amazon_side_as":{"default":"64512","description":"Private Autonomous System Number (ASN) for the Amazon side of a BGP session. The range is 64512 to 65534 for 16-bit ASNs and 4200000000 to 4294967294 for 32-bit ASNs"},"auto_accept_shared_attachments":{"default":"enable","description":"Whether resource attachment requests are automatically accepted"},"az1":{"default":"us-east-1a","description":"first availability zone"},"az2":{"default":"us-east-1b","description":"second availability zone"},"azs":{"default":["us-east-1a","us-east-1b"],"description":"availability zones"},"blackhole":{"default":false,"description":"Indicates whether to drop traffic that matches this route"},"cidr_block_a":{"default":"15.0.0.0/24","description":"cidr block for Public subnet 1a"},"cidr_block_a2":{"default":"10.0.0.0/24","description":"cidr block for Public subnet 1a"},"cidr_block_b":{"default":"15.0.1.0/24","description":"cidr block for Public subnet 1b"},"cidr_block_b2":{"default":"10.0.1.0/24","description":"cidr block for Public subnet 1b"},"cidr_block_c":{"default":"15.0.2.0/24","description":"cidr block for Private subnet 1b"},"cidr_block_d":{"default":"15.0.3.0/24","description":"cidr block for Private subnet 1b"},"default_route_table_association":{"default":"disable","description":"Whether resource attachments are automatically associated with the default association route table"},"default_route_table_propagation":{"default":"disable","description":"Whether resource attachments automatically propagate routes to the default propagation route table"},"description":{"default":"desc","description":"Description of the EC2 Transit Gateway"},"destination_cidr_block":{"default":" ","description":"IPv4 CIDR range used for destination matches. Routing decisions are based on the most specific match"},"dns_support":{"default":"enable","description":"Whether DNS support is enabled for Transit gateway"},"egress_cidr":{"default":["0.0.0.0/0"]},"exit_rte_cidr":{"default":"0.0.0.0/0","description":"destination cidr block for transit gateway route table"},"from_icmp_port":{"default":"8","description":"security group from port"},"from_port":{"default":"22","description":"security group from port"},"icmp_protocol":{"default":"icmp","description":"security group protocol"},"ipv6_support":{"default":"disable","description":"Whether IPv6 support is enabled"},"keyp":{"default":"Ayos-windows-key","description":"keypair filename"},"my_ip":{"default":"142.116.203.156/32","description":"whitelist my ip for bastion access"},"protocol":{"default":"tcp","description":"security group protocol"},"prv2_subnet_cidrs":{"default":["10.0.0.0/24","10.0.1.0/24"],"description":"private subnet cidrs"},"prv_subnet_cidrs":{"default":["15.0.2.0/24","15.0.3.0/24"],"description":"private subnet cidrs"},"prv_subnets":{"default":["prv-1a","prv-1b"],"description":"Private subnets"},"pub_subnet_cidrs":{"default":["15.0.0.0/24","15.0.1.0/24"],"description":"public subnet cidrs"},"pub_subnets":{"default":["pub-1a","pub-1b"],"description":"Public subnets"},"tgw_id":{"default":"tgw_id","description":"id of the transit gateway"},"tgw_name":{"default":"transit-gw","description":"Name of the transit gateway"},"to_icmp_port":{"default":"0","description":"security group to port"},"to_port":{"default":"22","description":"security group to port"},"transit_gateway_attachment_id":{"default":"tgw_attachment_id","description":"Identifier of EC2 Transit Gateway Attachment"},"transit_gateway_default_route_table_association":{"default":false,"description":"whether the VPC Attachment should be associated with the EC2 Transit Gateway association default route table"},"transit_gateway_default_route_table_propagation":{"default":false,"description":"whether the VPC Attachment should propagate routes with the EC2 Transit Gateway propagation default route table"},"transit_gateway_route_table_id":{"default":"tgw_routetable_id","description":"Identifier of EC2 Transit Gateway Route Table"},"vpc2_cidr_block":{"default":"10.0.0.0/16","description":"cidr block for VPC"},"vpc_cidr_block":{"default":"15.0.0.0/16","description":"cidr block for VPC"},"vpn_ecmp_support":{"default":"enable","description":"Whether VPN Equal Cost Multipath Protocol support is enabled"}}}}}
